{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _jump = require('jump.js');\n\nvar _jump2 = _interopRequireDefault(_jump);\n\nvar _func = require('./utils/func');\n\nvar _scroll = require('./utils/scroll');\n\nvar _hash = require('./utils/hash');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar defaultConfig = {\n  offset: 0,\n  scrollDuration: 400,\n  keepLastAnchorHash: false\n};\n\nvar Manager = function Manager() {\n  var _this = this;\n\n  _classCallCheck(this, Manager);\n\n  this.addListeners = function () {\n    window.addEventListener('scroll', _this.scrollHandler, false);\n    window.addEventListener('hashchange', _this.handleHashChange);\n  };\n\n  this.removeListeners = function () {\n    window.removeEventListener('scroll', _this.scrollHandler, false);\n    window.removeEventListener('hashchange', _this.handleHashChange);\n  };\n\n  this.configure = function (config) {\n    _this.config = _extends({}, defaultConfig, config);\n  };\n\n  this.goToTop = function () {\n    if ((0, _scroll.getScrollTop)() === 0) return;\n    _this.forcedHash = true;\n    window.scroll(0, 0);\n  };\n\n  this.addAnchor = function (id, component) {\n    // if this is the first anchor, set up listeners\n    if (Object.keys(_this.anchors).length === 0) {\n      _this.addListeners();\n    }\n\n    _this.forceHashUpdate();\n\n    _this.anchors[id] = component;\n  };\n\n  this.removeAnchor = function (id) {\n    delete _this.anchors[id]; // if this is the last anchor, remove listeners\n\n    if (Object.keys(_this.anchors).length === 0) {\n      _this.removeListeners();\n    }\n  };\n\n  this.handleScroll = function () {\n    var _config = _this.config,\n        offset = _config.offset,\n        keepLastAnchorHash = _config.keepLastAnchorHash;\n    var bestAnchorId = (0, _scroll.getBestAnchorGivenScrollLocation)(_this.anchors, offset);\n\n    if (bestAnchorId && (0, _hash.getHash)() !== bestAnchorId) {\n      _this.forcedHash = true;\n      (0, _hash.updateHash)(bestAnchorId, false);\n    } else if (!bestAnchorId && !keepLastAnchorHash) {\n      (0, _hash.removeHash)();\n    }\n  };\n\n  this.handleHashChange = function (e) {\n    if (_this.forcedHash) {\n      _this.forcedHash = false;\n    } else {\n      _this.goToSection((0, _hash.getHash)());\n    }\n  };\n\n  this.goToSection = function (id) {\n    var element = _this.anchors[id];\n\n    if (element) {\n      (0, _jump2.default)(element, {\n        duration: _this.config.scrollDuration,\n        offset: _this.config.offset\n      });\n    } else {\n      // make sure that standard hash anchors don't break.\n      // simply jump to them.\n      element = document.getElementById(id);\n\n      if (element) {\n        (0, _jump2.default)(element, {\n          duration: 0,\n          offset: _this.config.offset\n        });\n      }\n    }\n  };\n\n  this.anchors = {};\n  this.forcedHash = false;\n  this.config = defaultConfig;\n  this.scrollHandler = (0, _func.debounce)(this.handleScroll, 100);\n  this.forceHashUpdate = (0, _func.debounce)(this.handleHashChange, 1);\n};\n\nexports.default = new Manager();","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_jump","require","_jump2","_interopRequireDefault","_func","_scroll","_hash","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","defaultConfig","offset","scrollDuration","keepLastAnchorHash","Manager","_this","addListeners","window","addEventListener","scrollHandler","handleHashChange","removeListeners","removeEventListener","configure","config","goToTop","getScrollTop","forcedHash","scroll","addAnchor","id","component","keys","anchors","forceHashUpdate","removeAnchor","handleScroll","_config","bestAnchorId","getBestAnchorGivenScrollLocation","getHash","updateHash","removeHash","e","goToSection","element","duration","document","getElementById","debounce"],"sources":["/Users/galinamorozova/Documents/GitHub/transparent/node_modules/react-scrollable-anchor/lib/Manager.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _jump = require('jump.js');\n\nvar _jump2 = _interopRequireDefault(_jump);\n\nvar _func = require('./utils/func');\n\nvar _scroll = require('./utils/scroll');\n\nvar _hash = require('./utils/hash');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  offset: 0,\n  scrollDuration: 400,\n  keepLastAnchorHash: false\n};\n\nvar Manager = function Manager() {\n  var _this = this;\n\n  _classCallCheck(this, Manager);\n\n  this.addListeners = function () {\n    window.addEventListener('scroll', _this.scrollHandler, false);\n    window.addEventListener('hashchange', _this.handleHashChange);\n  };\n\n  this.removeListeners = function () {\n    window.removeEventListener('scroll', _this.scrollHandler, false);\n    window.removeEventListener('hashchange', _this.handleHashChange);\n  };\n\n  this.configure = function (config) {\n    _this.config = _extends({}, defaultConfig, config);\n  };\n\n  this.goToTop = function () {\n    if ((0, _scroll.getScrollTop)() === 0) return;\n    _this.forcedHash = true;\n    window.scroll(0, 0);\n  };\n\n  this.addAnchor = function (id, component) {\n    // if this is the first anchor, set up listeners\n    if (Object.keys(_this.anchors).length === 0) {\n      _this.addListeners();\n    }\n    _this.forceHashUpdate();\n    _this.anchors[id] = component;\n  };\n\n  this.removeAnchor = function (id) {\n    delete _this.anchors[id];\n    // if this is the last anchor, remove listeners\n    if (Object.keys(_this.anchors).length === 0) {\n      _this.removeListeners();\n    }\n  };\n\n  this.handleScroll = function () {\n    var _config = _this.config,\n        offset = _config.offset,\n        keepLastAnchorHash = _config.keepLastAnchorHash;\n\n    var bestAnchorId = (0, _scroll.getBestAnchorGivenScrollLocation)(_this.anchors, offset);\n\n    if (bestAnchorId && (0, _hash.getHash)() !== bestAnchorId) {\n      _this.forcedHash = true;\n      (0, _hash.updateHash)(bestAnchorId, false);\n    } else if (!bestAnchorId && !keepLastAnchorHash) {\n      (0, _hash.removeHash)();\n    }\n  };\n\n  this.handleHashChange = function (e) {\n    if (_this.forcedHash) {\n      _this.forcedHash = false;\n    } else {\n      _this.goToSection((0, _hash.getHash)());\n    }\n  };\n\n  this.goToSection = function (id) {\n    var element = _this.anchors[id];\n    if (element) {\n      (0, _jump2.default)(element, {\n        duration: _this.config.scrollDuration,\n        offset: _this.config.offset\n      });\n    } else {\n      // make sure that standard hash anchors don't break.\n      // simply jump to them.\n      element = document.getElementById(id);\n      if (element) {\n        (0, _jump2.default)(element, {\n          duration: 0,\n          offset: _this.config.offset\n        });\n      }\n    }\n  };\n\n  this.anchors = {};\n  this.forcedHash = false;\n  this.config = defaultConfig;\n\n  this.scrollHandler = (0, _func.debounce)(this.handleScroll, 100);\n  this.forceHashUpdate = (0, _func.debounce)(this.handleHashChange, 1);\n};\n\nexports.default = new Manager();"],"mappings":"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"},"metadata":{},"sourceType":"script"}